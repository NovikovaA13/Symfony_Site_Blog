{% extends 'base.html.twig' %}

{% block title %}Tous les utilisateurs{% endblock %}

{% block body %}

<div class="container">
    <div class="page-header text-center mt-3 mb-4"><h1>Tous les utilisateurs</h1></div>
    <div class="list-group mb-4">
        <table class="table table-striped">
            <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Roles</th>
                <th scope="col">Supprimer</th>
            </tr>
            </thead>
        {% for user in users %}
                <tr class="">
                    <td >{{ user.id }}</td>
                    <td>{{ user.name }}</td>
                    <td>{{ user.email }}</td>
                    <td>
                        {% if(user.roles[0] == 'ROLE_USER') %}
                        <a href="{{ path('user_bann', {'id': user.id }) }}" class="link-warning">Bannir</a>
                        {% elseif (user.roles[0] == 'IS_BANNED')%}
                        <a href="{{ path('user_debann', {'id': user.id }) }}" class="link-warning">DÃ©bannir</a>
                        {% endif %}
                    </td>
                    <td><a href="{{ path('user_delete', {'id': user.id }) }}" class="link-danger">Supprimer</a></td>
                </tr>
        {% endfor %}
        </table>
    </div>
</div>
{% endblock %}
